<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>MegaStore - Cadastro de Produtos</title>
    <style>
        body { font-family: Arial; display: flex; flex-direction: column; align-items: center; padding: 50px; }
        h1 { color: #333; }
        input, select { width: 300px; padding: 10px; margin: 5px 0; border-radius: 8px; }
        button { padding: 10px 15px; margin-top: 10px; border-radius: 8px; cursor: pointer; border: none; }
        #cadastro-btn { background: #28a745; color: white; }
        #cadastro-btn:hover { background: #218838; }
        #voltar-btn { background: #0078d7; color: white; }
        #voltar-btn:hover { background: #005fa3; }
        #msg { margin-top: 20px; color: blue; }
    </style>
</head>
<body>
    <h1>Cadastro de Produto - MegaStore</h1>
    <form id="form-cadastro">
        <input type="text" id="nome" placeholder="Nome do produto" required />
        <input type="text" id="descricao" placeholder="Descrição" required />
        <input type="number" id="preco" placeholder="Preço" step="0.01" required />
        <select id="categoria" required>
            <option value="">Selecione a categoria</option>
            <option value="Informática">Informática</option>
            <option value="Periféricos">Periféricos</option>
            <option value="Celulares">Celulares</option>
            <option value="Áudio">Áudio</option>
        </select>
        <button type="submit" id="cadastro-btn">Cadastrar</button>
    </form>
    <button id="voltar-btn" onclick="window.location.href='/'">Voltar à Página Inicial</button>
    <div id="msg"></div>

    <script>
        const form = document.getElementById("form-cadastro");
        form.addEventListener("submit", async (e) => {
            e.preventDefault();
            const data = {
                nome: document.getElementById("nome").value,
                descricao: document.getElementById("descricao").value,
                preco: parseFloat(document.getElementById("preco").value),
                categoria: document.getElementById("categoria").value
            };

            const resp = await fetch("/cadastro", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify(data)
            });

            if (resp.ok) {
                document.getElementById("msg").textContent = "Produto cadastrado com sucesso!";
                form.reset();
            } else {
                document.getElementById("msg").textContent = "Erro ao cadastrar produto!";
            }
        });
    </script>
</body>
</html>

